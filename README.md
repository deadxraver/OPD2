# Лабораторная работа №2 по ОПД

## Задание к лабораторной работе

Определить функцию, вычисляемую программой, область представления и область допустимых значений исходных данных и результата, выполнить трассировку программы, предложить вариант с меньшим числом команд.

206:   2210 \
207: + 0200 \
208:   0280 \
209:   2210 \
20A:   2213 \
20B:   E211 \
20C:   A212 \
20D:   6211 \
20E:   E206 \
20F:   0100 \
210:   6211 \
211:   6211 \
212:   2210 \
213:   E211

## Выполнение

### Таблица команд

| Ячейка	| к/з  | Команда  | Мнемоника	| Действие	  | Описание                                            |
|---------|------|----------|-----------|-------------|-----------------------------------------------------|
| 206	    | з    | 2210     | M         | A           | переменная A                                        |
| 207	    | к    | 0200	    | CLA       |	0 → AC      | обнуление аккумулятора                              |
| 208	    | к	   | 0280	    | NOT	      | (^AC) → AC  |	инвертирование аккумулятора                         |
| 209	    | к	   | 2210	    | AND M	    | B & AC → AC |	побитовое «И» значений переменной B и аккумулятора  |
| 20A	    | к    | 2213	    | AND M	    | E & AC → AC | побитовое «И» значений переменной E и аккумулятора  |
| 20B	    | к	   | E211	    | ST M	    | AC → C	    | сохранение промежуточного значения аккумулятора в C |
| 20C	    | к	   | A212	    | LD M	    | D → AC	    | запись значения переменной D в аккумулятор          |
| 20D	    | к	   | 6211	    | SUB M	    | AC – C → AC	| вычитание C из текущего значения аккумулятора       |
| 20E	    | к	   | E206	    | ST M	    | AC → A	    | запись значения аккумулятора в переменную A         |
| 20F	    | к	   | 0100     | HLT	      | stop	      | останова                                            |
| 210	    | з	   | 6211	    | M	        | B	          | переменная B                                        |
| 211	    | з 	 | 6211	    | M	        | C	          | промежуточное значение C                            |
| 212	    | з	   | 2210	    | M	        | D	          | переменная D                                        |
| 213	    | з	   | E211     | M	        | E	          | переменная E                                        |

### Описание программы

Назначение: программа рассчитывает значение по формуле:

A = (D – (E & B)),

A (ячейка 206) – итоговое значение, D (ячейка 212), E (ячейка 213) и B (ячейка 210) – входные данные, C (ячейка 211) – промежуточное значение.

Переменные и промежуточные значения содержатся в ячейках 210-213, команды содержатся в ячейках 207-20F, итоговое значение хранится в ячейке 206.

### Область определения
D, (E & B) ограничиваются следующими условиями:

1.	если знаки совпадают (D отрицательно, старший бит (E & B) – 1, и наоборот), значения любые (вмещающиеся в 16 бит)
2.	если знаки не совпадают, оба числа входят в промежуток [-2^14; 2^14 - 1] 
 
Правила для E, B:

Если старший бит обоих – единица, а D отрицательно, ограничено 16 битами


Если старший бит любого – ноль, а D положительно, ограничено 16 битами

В иных случаях первые два бита должны совпадать

**Пояснение:**

В первом случае модуль результата вычитания будет меньше, чем значение большего по модулю входного значения => переполнение не возникает


Во втором случае область определения D, (E & B) не может совпадать с областью допустимых значений, т.к. при выборе крайних значений, образуется ещё один разряд, который вылезет за пределы допустимого значения, т.е. [-2^15; 2^15 – 1] → [-2^16 + 1; 2^16] => сокращаем область определения до 15 бит (14 двоичных разрядов + знак).

Для E, B – в первом и втором случаях их знак совпадает со знаком D, переполнение не возникает

В третьем случае E и B могут быть любым набором из 16-ти нулей и единиц, которые в результате побитового «И» не выходят из диапазона [0000 0000 0000 0000_2; 0011 1111 1111 1111_2] ∪ [1100 0000 0000 00002; 1111 1111 1111 1111_2], чтобы в результате проведения операции над этими данными, числовое значение, представленное в двоичном формате со знаком, не вышло за свою область определения.

### Область допустимых значений

A – знаковое целое 16-разрядное число [-2^15; 2^15 - 1]

**Пояснение:**

A записывается 16-ю однобитными значениями, один бит отводится на знак, значит, 15 бит отводится на само число.

### Таблица трассировки:

[тык](tras.xlsx)
